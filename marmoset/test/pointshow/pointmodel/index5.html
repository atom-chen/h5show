<html>

<head>
    <title>index</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta content="IE=11.00" http-equiv="X-UA-Compatible" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

    <link rel="apple-touch-icon-precomposed" href="icon.png" />
    <link rel="touch-icon-precomposed" href="icon.png" />


    <script src="h5web.min.js"></script>



    <script>

var a='1'; 

  var d = document.getElementById('dv');//获取div的节点 

  d.innerHTML = a;//在div节点上显示a的值1



        function init() {

            PointShowModel.hasMouseEvent = true //是否有鼠标事件
            PointShowModel.showGridline = false  //绘制网格线
            PointShowModel.init()   //初始场景

            setPointData();
   
            loadTextByUrlA("3d-50-25-25.txt",(str) => {
			
					pointStrA=str 
					finishEnd()
			})
		
  
        }
		var  pointStrA
		 
		function finishEnd()
		{
		
		   var configText = pointStrA.split("\n");

		    PointShowModel.PointSize = 1; //点的大小
            Scene_data.focus3D.rotationX = -45;   //镜头旋转X
            Scene_data.focus3D.rotationY = 135; //镜头旋转Y
            Scene_data.cam3D.distance = 500;    //镜头旋转距离


            var $point = new Array();
            var $color = new Array();
			

		    for (var i = 0; i < 50; i++) {
				for(var j = 0; j < 25; j++){

					for(var u = 0; u < 25; u++){
					var total=i*j*u
					if(total < configText.length){
						 var k={}
								var kx = i
								var ky = j
								var kz = u
								$point.push(kx,ky,kz); 

				

						}
				
				}
			
            }



		}



		var $colour=new Array ( 
						[0] => (0,0,0),
						[1] => (51,51,51),
						[3] => (102,102,102),
						[4] => (153,153,153),
						[5] => (204,204,204),
						[6] => (255,255,255),
						[7] => (0,0,51),
						[8] => (51,51,0),
						[9] => (102,102,0),
						[10] => (1531,153,0),
						
						[11] => (204,204,0),
						[12] => (255,255,0),
						[13] => (0,0,102),
						[14] => (51,51,102),
						[15] => (102,102,51),
						[16] => (153,153,51),
						[17] => (204,204,51),
						[18] => (255,255,51),
						[19] => (0,0,153),
						[20] => (51,51,204),

						[21] => (102,102,204),
						[22] => (153,153,102),
						[23] => (204,204,102),
						[24] => (255,255,102),
						[25] => (0,0,204),
						[26] => (51,51,204),
						[27] => (102,102,204),
						[28] => (153,153,204),
						[29] => (204,204,153),
						[30] => (255,255,153),
						
						[31] => (0,0,255),
						[32] => (51,51,255),
						[33] => (102,102,255),
						[34] => (153,153,255),
						[35] => (204,204,255),
						[36] => (255,255,204),
						[37] => (0,51,0),
						[38] => (51,102,51),
						[39] => (102,153,102),
						[40] => (153,204,153),

						[41] => (204,255,204),
						[42] => (255,0,255),
						[43] => (51,153,51),
						[44] => (102,204,102),
						[45] => (51,51,51),
						[46] => (153,255,153),
						[47] => (204,0,204),
						[48] => (255,51,255),
						[49] => (0,153,0),
						[50] => (51,204,51),

						[51] => (102,255,102),
						[52] => (153,0,153),
						[53] => (204,51,204),
						[54] => (255,102,255),
						[55] => (0,204,0),
						[56] => (51,255,51),
						[57] => (102,0,102),
						[58] => (153,51,153),
						[59] => (204,102,204),
						[60] => (255,153,255),

						[61] => (0,255,0),
						[62] => (51,0,51),
						[63] => (102,51,102),
						[64] => (153,102,153),
						[65] => (204,102,204),
						[66] => (255,204,255),
						[67] => (51,51,51),
						[68] => (0,0,0),
						[69] => (51,51,51),

						[70] => (51,51,51),
						[71] => (51,51,51),
						[72] => (0,0,0),
						[73] => (51,51,51),
						[74] => (0,0,0),
						[75] => (51,51,51),
						[76] => (0,0,0),
						[77] => (51,51,51),
						[78] => (0,0,0),
						[79] => (51,51,51),
						[80] => (51,51,51),
						
						[81] => (51,51,51),
						[82] => (0,0,0),
						[83] => (51,51,51),
						[84] => (0,0,0),
						[85] => (51,51,51),
						[86] => (0,0,0),
						[87] => (51,51,51),
						[88] => (0,0,0),
						[89] => (51,51,51),
						[90] => (51,51,51),

						[91] => (51,51,51),
						[92] => (0,0,0),
						[93] => (51,51,51),
						[94] => (0,0,0),
						[95] => (51,51,51),
						[96] => (0,0,0),
						[97] => (51,51,51),
						[98] => (0,0,0),
						[99] => (51,51,51),
						[100] => (51,51,51),

						[101] => (0,0,0),
						[102] => (51,51,51),
						[103] => (0,0,0),
						[104] => (51,51,51),
						[105] => (0,0,0),
						[106] => (51,51,51),
						[107] => (0,0,0),
						[108] => (51,51,51),
						[109] => (0,0,0),
						[110] => (51,51,51),
						
						[111] => (51,51,51),
						[112] => (0,0,0),
						[113] => (51,51,51),
						[114] => (0,0,0),
						[115] => (51,51,51),
						[116] => (0,0,0),
						[117] => (51,51,51),
						[118] => (0,0,0),
						[119] => (51,51,51),
						[120] => (51,51,51),

						[121] => (51,51,51),
						[122] => (0,0,0),
						[123] => (51,51,51),
						[124] => (0,0,0),
						[125] => (51,51,51),
						[126] => (0,0,0),
						[127] => (51,51,51),
						[128] => (0,0,0),
						[129] => (51,51,51),
						[130] => (51,51,51),
						
						[131] => (51,51,51),
						[132] => (0,0,0),
						[133] => (51,51,51),
						[134] => (0,0,0),
						[135] => (51,51,51),
						[136] => (0,0,0),
						[137] => (51,51,51),
						[138] => (0,0,0),
						[139] => (51,51,51),
						[140] => (51,51,51),

						[141] => (51,51,51),
						[142] => (0,0,0),
						[143] => (51,51,51),
						[144] => (0,0,0),
						[145] => (51,51,51),
						[146] => (0,0,0),
						[147] => (51,51,51),
						[148] => (0,0,0),
						[149] => (51,51,51),
						[150] => (51,51,51),

						[151] => (51,51,51),
						[152] => (0,0,0),
						[153] => (51,51,51),
						[154] => (0,0,0),
						[155] => (51,51,51),
						[156] => (0,0,0),
						[157] => (51,51,51),
						[158] => (0,0,0),
						[159] => (51,51,51),
						[160] => (51,51,51),

						[161] => (51,51,51),
						[162] => (0,0,0),
						[163] => (51,51,51),
						[164] => (0,0,0),
						[165] => (51,51,51),
						[166] => (0,0,0),
						[167] => (51,51,51),
						[168] => (0,0,0),
						[169] => (51,51,51),

						[170] => (51,51,51),
						[171] => (51,51,51),
						[172] => (0,0,0),
						[173] => (51,51,51),
						[174] => (0,0,0),
						[175] => (51,51,51),
						[176] => (0,0,0),
						[177] => (51,51,51),
						[178] => (0,0,0),
						[179] => (51,51,51),
						[180] => (51,51,51),
						
						[181] => (51,51,51),
						[182] => (0,0,0),
						[183] => (51,51,51),
						[184] => (0,0,0),
						[185] => (51,51,51),
						[186] => (0,0,0),
						[187] => (51,51,51),
						[188] => (0,0,0),
						[189] => (51,51,51),
						[190] => (51,51,51),

						[191] => (51,51,51),
						[192] => (0,0,0),
						[193] => (51,51,51),
						[194] => (0,0,0),
						[195] => (51,51,51),
						[196] => (0,0,0),
						[197] => (51,51,51),
						[198] => (0,0,0),
						[199] => (51,51,51),
						[200] => (51,51,51),
						
						[201] => (0,0,0),
						[202] => (51,51,51),
						[203] => (0,0,0),
						[204] => (51,51,51),
						[205] => (0,0,0),
						[206] => (51,51,51),
						[207] => (0,0,0),
						[208] => (51,51,51),
						[209] => (0,0,0),
						[210] => (51,51,51),
						
						[211] => (51,51,51),
						[212] => (0,0,0),
						[213] => (51,51,51),
						[214] => (0,0,0),
						[215] => (51,51,51),
						[216] => (0,0,0),
						[217] => (51,51,51),
						[218] => (0,0,0),
						[219] => (51,51,51),
						[220] => (51,51,51),

						[221] => (51,51,51),
						[222] => (0,0,0),
						[223] => (51,51,51),
						[224] => (0,0,0),
						[225] => (51,51,51),
						[226] => (0,0,0),
						[227] => (51,51,51),
						[228] => (0,0,0),
						[229] => (51,51,51),
						[230] => (51,51,51),
						
						[231] => (51,51,51),
						[232] => (0,0,0),
						[233] => (51,51,51),
						[234] => (0,0,0),
						[235] => (51,51,51),
						[236] => (0,0,0),
						[237] => (51,51,51),
						[238] => (0,0,0),
						[239] => (51,51,51),
						[240] => (51,51,51),

						[241] => (51,51,51),
						[242] => (0,0,0),
						[243] => (51,51,51),
						[244] => (0,0,0),
						[245] => (51,51,51),
						[246] => (0,0,0),
						[247] => (51,51,51),
						[248] => (0,0,0),
						[249] => (51,51,51),
						[250] => (51,51,51),

						[251] => (51,51,51),
						[252] => (0,0,0),
						[253] => (51,51,51),
						[254] => (0,0,0),
						[255] => (51,51,51),
						[256] => (0,0,0)
											
						)

				for(var m = 0; m < configText.length; m++){
					var num=Number(configText[m])
					var c1=$colour[num][0]
					var c2=$colour[num][1]
					var c3=$colour[num][2]

						$color.push(1,1,1,1);    //颜色 rgb 


					}

			 

		     PointShowModel.setPointData($point, $color)   //$point为点坐标
            PointShowModel.setBoxScale(50, 25, 25,[1,1,1])//长宽高  数组为颜色rgb
	
		    
		}
		

		

		function loadTextByUrlA($url,$fun)
		{
			var _xhr=new  XMLHttpRequest;
			_xhr.onreadystatechange = () => {
				if (_xhr.status == 200 && _xhr.readyState == 4) {
					$fun(_xhr.response)
				}
			}
		    _xhr.open("GET", $url, true);
            _xhr.responseType = "text";
            _xhr.send();
		}
	
 
        function setPointData() {
            PointShowModel.PointSize = 1; //点的大小
            Scene_data.focus3D.rotationX = -45;   //镜头旋转X
            Scene_data.focus3D.rotationY = 135; //镜头旋转Y
            Scene_data.cam3D.distance = 500;    //镜头旋转距离


            var $point = new Array();
            var $color = new Array();
            for (var i = 0; i < 6000; i++) {
                $point.push(Math.random() * 60 - 30, Math.random() * 200 - 100, Math.random() *100 - 50); 
                $color.push(1, 1, 0,0.5);  //颜色 rgb  
            }
            PointShowModel.setPointData($point, $color)   //$point为点坐标
            PointShowModel.setBoxScale(60, 200, 100,[1,1,1])//长宽高  数组为颜色rgb

        }
     
   

    </script>


</head>

<body onload='init()' ontouchmove="event.preventDefault()" style="overflow-x: hidden; overflow-y: hidden;background-color:#000000">
    <canvas id="ArpgStageCanvas" width="600" height="600" style="z-index:1"></canvas>
	<div id="dv" style="position:absolute;top:50px;left:50px;z-index:98;color:#FFF;"> <div>
</body>

</html>